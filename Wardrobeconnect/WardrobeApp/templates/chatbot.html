<!DOCTYPE html>
<html>
<head>
    <title>Chatbot Assistance</title>
    <script>
        function sendQuery() {
            let user_query = document.getElementById("user_query").value;
            fetch("", {
                method: "POST",
                headers: {
                    "X-CSRFToken": "{{ csrf_token }}",
                    "Content-Type": "application/x-www-form-urlencoded"
                },
                body: "user_query=" + encodeURIComponent(user_query)
            })
            .then(response => response.json())
            .then(data => {
                document.getElementById("response").innerHTML = "ðŸ¤– " + data.response;
                if (data.recommendations.length > 0) {
                    document.getElementById("recommendations").innerHTML = 
                        "ðŸ”¹ Recommended: " + data.recommendations.join(", ");
                } else {
                    document.getElementById("recommendations").innerHTML = "";
                }
            });
        }
    </script>
</head>
<body>
    <h2>Chatbot Assistance</h2>
    <input type="text" id="user_query" placeholder="Ask me something..." />
    <button onclick="sendQuery()">Ask</button>
    <p id="response"></p>
    <p id="recommendations"></p>
</body>
</html>
